# VPS优化脚本配置文件
# 版本: 2.2

# ==============================================================================
# 基本配置
# ==============================================================================

# 脚本信息
SCRIPT_NAME="VPS优化脚本"
SCRIPT_VERSION="2.2"
SCRIPT_AUTHOR="Kaiki"

# 目录配置
CONFIG_DIR="/etc/vps-optimize"
LOG_DIR="/var/log/vps-optimize"
BACKUP_DIR="/var/backups/vps-optimize"

# ==============================================================================
# 网络配置
# ==============================================================================

# 软件源配置
MIRRORS=(
    "aliyun:mirrors.aliyun.com"
    "ustc:mirrors.ustc.edu.cn"
    "tsinghua:mirrors.tuna.tsinghua.edu.cn"
    "official:deb.debian.org"
    "hk:ftp.hk.debian.org"
)

# NTP服务器配置
NTP_SERVERS_CN=(
    "ntp.aliyun.com"
    "ntp.ntsc.ac.cn"
    "time1.cloud.tencent.com"
    "cn.pool.ntp.org"
)

NTP_SERVERS_GLOBAL=(
    "pool.ntp.org"
    "time1.google.com"
    "time.apple.com"
    "time.cloudflare.com"
)

# Docker镜像加速
DOCKER_MIRRORS=(
    "https://docker.mirrors.ustc.edu.cn"
    "https://hub-mirror.c.163.com"
    "https://mirror.baidubce.com"
)

# ==============================================================================
# 系统配置
# ==============================================================================

# 支持的系统
SUPPORTED_OS=("debian" "ubuntu")

# 支持的架构
SUPPORTED_ARCH=("x86_64" "aarch64" "arm64")

# 时区配置
TIMEZONES=(
    "Asia/Shanghai:Asia/Shanghai (中国 - 推荐)"
    "Asia/Hong_Kong:Asia/Hong_Kong (香港)"
    "Asia/Tokyo:Asia/Tokyo (日本)"
    "America/New_York:America/New_York (美国东部)"
    "Europe/London:Europe/London (英国)"
    "UTC:UTC (协调世界时)"
)

# 语言配置
LOCALES=(
    "zh_CN.UTF-8:zh_CN.UTF-8 (简体中文 - UTF-8)"
    "en_US.UTF-8:en_US.UTF-8 (美国英语 - UTF-8)"
    "zh_TW.UTF-8:zh_TW.UTF-8 (繁体中文 - UTF-8)"
    "ja_JP.UTF-8:ja_JP.UTF-8 (日本语 - UTF-8)"
)

# ==============================================================================
# 安全配置
# ==============================================================================

# SSH配置
DEFAULT_SSH_PORT=22
SSH_CONFIG_BACKUP="${CONFIG_DIR}/ssh/sshd_config.backup"

# 防火墙配置
DEFAULT_FIREWALL="nftables"

# Fail2Ban配置
FAIL2BAN_MAXRETRY=5
FAIL2BAN_FINDTIME="10m"
FAIL2BAN_BANTIME="30m"

# ==============================================================================
# 性能配置
# ==============================================================================

# 系统参数优化
SYSCTL_PARAMS=(
    "net.ipv4.tcp_congestion_control=bbr"
    "net.core.default_qdisc=fq"
    "net.core.rmem_max=33554432"
    "net.core.wmem_max=33554432"
    "net.core.somaxconn=4096"
    "net.ipv4.tcp_max_syn_backlog=4096"
    "kernel.panic=1"
    "vm.swappiness=3"
)

# SWAP配置
DEFAULT_SWAP_SIZE=2
MIN_MEMORY_FOR_SWAP=2048

# ==============================================================================
# 服务配置
# ==============================================================================

# 需要监控的服务
MONITOR_SERVICES=("ssh" "nginx" "docker" "fail2ban")

# ==============================================================================
# 备份配置
# ==============================================================================

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# 需要备份的配置文件
BACKUP_CONFIGS=(
    "/etc/ssh/sshd_config"
    "/etc/nginx/nginx.conf"
    "/etc/fstab"
    "/etc/systemd/system/"
)

# ==============================================================================
# 工具配置
# ==============================================================================

# 常用工具列表
SYSTEM_TOOLS=("htop" "iotop" "nload" "glances")
NETWORK_TOOLS=("curl" "wget" "net-tools" "dnsutils" "traceroute" "nmap")
EDITOR_TOOLS=("vim" "nano")
DEV_TOOLS=("git" "build-essential" "python3-pip")
COMPRESS_TOOLS=("zip" "unzip" "rar" "unrar" "p7zip-full")

# ==============================================================================
# Cloudflare配置
# ==============================================================================

# WARP配置
WARP_SUPPORTED_ARCH=("amd64" "arm64" "armv7")

# Tunnel配置
CLOUDFLARED_ARCH=("amd64" "arm64" "armhf")

# ==============================================================================
# 监控配置
# ==============================================================================

# 监控阈值
CPU_THRESHOLD=80
MEM_THRESHOLD=80
DISK_THRESHOLD=85

# 监控间隔（分钟）
MONITOR_INTERVAL=60

# ==============================================================================
# 日志配置
# ==============================================================================

# 日志级别
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR

# 日志轮转
LOG_MAX_SIZE="10M"
LOG_MAX_FILES=3

# ==============================================================================
# UI配置
# ==============================================================================

# 进度条样式
PROGRESS_STYLE="modern"  # classic, modern

# 颜色主题
COLOR_THEME="default"  # default, dark, light

# 显示模式
DISPLAY_MODE="interactive"  # interactive, silent, verbose